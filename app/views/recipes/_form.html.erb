<%= simple_form_for @recipe, html: { multipart: true } do |f| %>
<% if @recipe.errors.any? %>
<div id="errors">
  <p>
    <%= @recipe.errors.count %>
    Prevented this recipe from saving
  </p>
  <ul>
    <% @recipe.errors.full_messages.each do |msg| %>
    <li>
      <%= msg %>
    </li>
    <% end %>
  </ul>
</div>
<% end %>
<div class="panel-body">
  <%= f.input :name, input_html: { class: 'form-control' } %>
  <%= f.input :description, input_html: { class: 'form-control' } %>
  <%= f.input :image, input_html: { class: 'form-control' } %>

  <div class="row">
    <div class="col-md-6">
      <h3>Ingredients</h3>
      <div id="ingredients">
        <%= f.simple_fields_for :ingredient_attributes do |builder| %>
        <label>Add New Ingredients:
        </label>
        <%= render 'ingredient', f: builder %>
      </br>
      <label>OR:</label>
      <label>Select Existing Ingredient:
      </label>
    </br>
    <%= builder.collection_select :ingredient_ids, Ingredient.all, :id, :name %></br>

  <% end %>

</br>
</div>
</div>
<%= f.button :submit, class: "btn btn-primary" %>
<% end %>
